{% extends "base.html" %}

{% load common_tags %}

{% block page-specific-includes %}
    {% include "static-local-include.html" with type="css" path="css/index.css" %}

    {# Google Maps API #}
    <script type="text/javascript"
            src="https://maps.googleapis.com/maps/api/js?sensor=false">
        {# TODO: Get this working with an API key. #}
        {# src="https://maps.googleapis.com/maps/api/js?key={{ google_maps_api_key }}&sensor=false">#}
    </script>
    <script type="text/javascript"
            src="http://google-maps-utility-library-v3.googlecode.com/svn/trunk/markerclusterer/src/markerclusterer.js">
    </script>
    {% include "static-local-include.html" with type="css" path="css/map.css" %}
    {% include "static-local-include.html" with type="js" path="js/map.js" %}
{% endblock %}

{% block content %}

<div id="intro">
  <h1>CoralNet</h1>
  <h2>A Web solution for coral reef analysis</h2>

  <p>Upload coral reef images, organize and annotate images, and view annotation statistics.</p>

</div><!-- /intro-->

<br />

    <div id="map-canvas"></div>


    <div id="marker-info-initial-container">
        <div id="marker-info">

            <div class="name"><strong>Source name goes here.</strong></div>

            {# TODO: Ensure that the description looks good even when it's multilined. #}
            <div class="description">Description goes here.</div>

            <div class="num-of-images">Number of images goes here.</div>

            <div class="coordinates">Coordinates go here.</div>

        </div>
    </div>
<br>

    <script type="text/javascript">
        CNMap.init({
            'mapSources': {{ map_sources|jsonify }}
        });
    </script>

{% endblock %}

{% block footer_extra %}
    <p>Powered by <a href="https://www.djangoproject.com/" target="_blank">Django</a></p>
    <p>Site theme adapted from <a href="http://django-userena.org/" target="_blank">Django-Userena</a></p>
    <p>Credit for front page image: <a href="http://www.flickr.com/photos/usfwspacific/5565696408/" target="_blank">Jim Maragos/U.S. Fish and Wildlife Service</a></p>
{% endblock %}
